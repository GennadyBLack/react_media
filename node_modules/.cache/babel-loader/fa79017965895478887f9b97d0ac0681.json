{"ast":null,"code":"import _slicedToArray from \"/home/gena/app/react_media/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/gena/app/react_media/src/node_modules/pages/yourFeed/index.js\";\nimport React, { useEffect, Fragment } from 'react';\nimport { stringify } from 'query-string';\nimport Feed from 'components/feed';\nimport useFetch from 'hooks/useFetch';\nimport Pagination from 'components/pagination';\nimport { getPaginator, limit } from 'utils';\nimport PopularTags from 'components/popularTags';\nimport Loading from 'components/loading';\nimport ErrorMessage from 'components/errorMessage';\nimport FeedToggler from 'components/feedToggler';\nimport Banner from 'components/banner';\n\nconst YourFeed = ({\n  location,\n  match\n}) => {\n  const _getPaginator = getPaginator(location.search),\n        offset = _getPaginator.offset,\n        currentPage = _getPaginator.currentPage;\n\n  const stringifiedParams = stringify({\n    limit,\n    offset\n  });\n  const apiUrl = \"/articles/feed?\".concat(stringifiedParams);\n  const currentUrl = match.url;\n\n  const _useFetch = useFetch(apiUrl),\n        _useFetch2 = _slicedToArray(_useFetch, 2),\n        _useFetch2$ = _useFetch2[0],\n        response = _useFetch2$.response,\n        error = _useFetch2$.error,\n        isLoading = _useFetch2$.isLoading,\n        doFetch = _useFetch2[1];\n\n  useEffect(() => {\n    doFetch();\n  }, [currentPage, doFetch]);\n  return React.createElement(\"div\", {\n    className: \"home-page\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }, React.createElement(Banner, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"container page\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"col-md-9\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, React.createElement(FeedToggler, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }), isLoading && React.createElement(Loading, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }), error && React.createElement(ErrorMessage, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }), !isLoading && response && React.createElement(Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, React.createElement(Feed, {\n    articles: response.articles,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }), React.createElement(Pagination, {\n    total: response.articlesCount,\n    limit: limit,\n    url: currentUrl,\n    currentPage: currentPage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }))), React.createElement(\"div\", {\n    className: \"col-md-3\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, React.createElement(PopularTags, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  })))));\n};\n\nexport default YourFeed;","map":{"version":3,"sources":["/home/gena/app/react_media/src/node_modules/pages/yourFeed/index.js"],"names":["React","useEffect","Fragment","stringify","Feed","useFetch","Pagination","getPaginator","limit","PopularTags","Loading","ErrorMessage","FeedToggler","Banner","YourFeed","location","match","search","offset","currentPage","stringifiedParams","apiUrl","currentUrl","url","response","error","isLoading","doFetch","articles","articlesCount"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AACA,SAAQC,SAAR,QAAwB,cAAxB;AAEA,OAAOC,IAAP,MAAiB,iBAAjB;AACA,OAAOC,QAAP,MAAqB,gBAArB;AACA,OAAOC,UAAP,MAAuB,uBAAvB;AACA,SAAQC,YAAR,EAAsBC,KAAtB,QAAkC,OAAlC;AACA,OAAOC,WAAP,MAAwB,wBAAxB;AACA,OAAOC,OAAP,MAAoB,oBAApB;AACA,OAAOC,YAAP,MAAyB,yBAAzB;AACA,OAAOC,WAAP,MAAwB,wBAAxB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;;AAEA,MAAMC,QAAQ,GAAG,CAAC;AAACC,EAAAA,QAAD;AAAWC,EAAAA;AAAX,CAAD,KAAuB;AAAA,wBACRT,YAAY,CAACQ,QAAQ,CAACE,MAAV,CADJ;AAAA,QAC/BC,MAD+B,iBAC/BA,MAD+B;AAAA,QACvBC,WADuB,iBACvBA,WADuB;;AAEtC,QAAMC,iBAAiB,GAAGjB,SAAS,CAAC;AAClCK,IAAAA,KADkC;AAElCU,IAAAA;AAFkC,GAAD,CAAnC;AAIA,QAAMG,MAAM,4BAAqBD,iBAArB,CAAZ;AACA,QAAME,UAAU,GAAGN,KAAK,CAACO,GAAzB;;AAPsC,oBAQUlB,QAAQ,CAACgB,MAAD,CARlB;AAAA;AAAA;AAAA,QAQ9BG,QAR8B,eAQ9BA,QAR8B;AAAA,QAQpBC,KARoB,eAQpBA,KARoB;AAAA,QAQbC,SARa,eAQbA,SARa;AAAA,QAQDC,OARC;;AAUtC1B,EAAAA,SAAS,CAAC,MAAM;AACd0B,IAAAA,OAAO;AACR,GAFQ,EAEN,CAACR,WAAD,EAAcQ,OAAd,CAFM,CAAT;AAIA,SACE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEGD,SAAS,IAAI,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFhB,EAGGD,KAAK,IAAI,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHZ,EAIG,CAACC,SAAD,IAAcF,QAAd,IACC,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,IAAD;AAAM,IAAA,QAAQ,EAAEA,QAAQ,CAACI,QAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE,oBAAC,UAAD;AACE,IAAA,KAAK,EAAEJ,QAAQ,CAACK,aADlB;AAEE,IAAA,KAAK,EAAErB,KAFT;AAGE,IAAA,GAAG,EAAEc,UAHP;AAIE,IAAA,WAAW,EAAEH,WAJf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CALJ,CADF,EAiBE;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAjBF,CADF,CAFF,CADF;AA4BD,CA1CD;;AA4CA,eAAeL,QAAf","sourcesContent":["import React, {useEffect, Fragment} from 'react'\nimport {stringify} from 'query-string'\n\nimport Feed from 'components/feed'\nimport useFetch from 'hooks/useFetch'\nimport Pagination from 'components/pagination'\nimport {getPaginator, limit} from 'utils'\nimport PopularTags from 'components/popularTags'\nimport Loading from 'components/loading'\nimport ErrorMessage from 'components/errorMessage'\nimport FeedToggler from 'components/feedToggler'\nimport Banner from 'components/banner'\n\nconst YourFeed = ({location, match}) => {\n  const {offset, currentPage} = getPaginator(location.search)\n  const stringifiedParams = stringify({\n    limit,\n    offset\n  })\n  const apiUrl = `/articles/feed?${stringifiedParams}`\n  const currentUrl = match.url\n  const [{response, error, isLoading}, doFetch] = useFetch(apiUrl)\n\n  useEffect(() => {\n    doFetch()\n  }, [currentPage, doFetch])\n\n  return (\n    <div className=\"home-page\">\n      <Banner />\n      <div className=\"container page\">\n        <div className=\"row\">\n          <div className=\"col-md-9\">\n            <FeedToggler />\n            {isLoading && <Loading />}\n            {error && <ErrorMessage />}\n            {!isLoading && response && (\n              <Fragment>\n                <Feed articles={response.articles} />\n                <Pagination\n                  total={response.articlesCount}\n                  limit={limit}\n                  url={currentUrl}\n                  currentPage={currentPage}\n                />\n              </Fragment>\n            )}\n          </div>\n          <div className=\"col-md-3\">\n            <PopularTags />\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default YourFeed\n"]},"metadata":{},"sourceType":"module"}