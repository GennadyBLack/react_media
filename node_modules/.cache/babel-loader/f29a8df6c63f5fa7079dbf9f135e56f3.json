{"ast":null,"code":"import _slicedToArray from \"/home/gena/app/react_media/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/gena/app/react_media/src/node_modules/components/addToFavorites.js\";\nimport React from 'react';\nimport classNames from 'classnames';\nimport useFetch from 'hooks/useFetch';\n\nconst AddToFavorites = ({\n  isFavorited,\n  favoritesCount,\n  articleSlug\n}) => {\n  const apiUrl = \"/articles/\".concat(articleSlug, \"/favorite\");\n\n  const _useFetch = useFetch(apiUrl),\n        _useFetch2 = _slicedToArray(_useFetch, 2),\n        response = _useFetch2[0].response,\n        doFetch = _useFetch2[1];\n\n  const isFavoritedWithResponse = response ? response.article.favorited : isFavorited;\n  const favoritesCountWithResponse = response ? response.article.favoritesCount : favoritesCount;\n  const buttonClasses = classNames({\n    btn: true,\n    'btn-sm': true,\n    'btn-primary': isFavoritedWithResponse,\n    'btn-outline-primary': !isFavoritedWithResponse\n  });\n\n  const handleLike = event => {\n    event.preventDefault();\n    doFetch({\n      method: isFavoritedWithResponse ? 'delete' : 'post'\n    });\n  };\n\n  return React.createElement(\"button\", {\n    className: buttonClasses,\n    onClick: handleLike,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }, React.createElement(\"i\", {\n    className: \"ion-heart\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }, \"\\xA0 \", favoritesCountWithResponse));\n};\n\nexport default AddToFavorites;","map":{"version":3,"sources":["/home/gena/app/react_media/src/node_modules/components/addToFavorites.js"],"names":["React","classNames","useFetch","AddToFavorites","isFavorited","favoritesCount","articleSlug","apiUrl","response","doFetch","isFavoritedWithResponse","article","favorited","favoritesCountWithResponse","buttonClasses","btn","handleLike","event","preventDefault","method"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,YAAvB;AAEA,OAAOC,QAAP,MAAqB,gBAArB;;AAEA,MAAMC,cAAc,GAAG,CAAC;AAACC,EAAAA,WAAD;AAAcC,EAAAA,cAAd;AAA8BC,EAAAA;AAA9B,CAAD,KAAgD;AACrE,QAAMC,MAAM,uBAAgBD,WAAhB,cAAZ;;AADqE,oBAEvCJ,QAAQ,CAACK,MAAD,CAF+B;AAAA;AAAA,QAE7DC,QAF6D,iBAE7DA,QAF6D;AAAA,QAElDC,OAFkD;;AAGrE,QAAMC,uBAAuB,GAAGF,QAAQ,GACpCA,QAAQ,CAACG,OAAT,CAAiBC,SADmB,GAEpCR,WAFJ;AAGA,QAAMS,0BAA0B,GAAGL,QAAQ,GACvCA,QAAQ,CAACG,OAAT,CAAiBN,cADsB,GAEvCA,cAFJ;AAGA,QAAMS,aAAa,GAAGb,UAAU,CAAC;AAC/Bc,IAAAA,GAAG,EAAE,IAD0B;AAE/B,cAAU,IAFqB;AAG/B,mBAAeL,uBAHgB;AAI/B,2BAAuB,CAACA;AAJO,GAAD,CAAhC;;AAMA,QAAMM,UAAU,GAAGC,KAAK,IAAI;AAC1BA,IAAAA,KAAK,CAACC,cAAN;AACAT,IAAAA,OAAO,CAAC;AACNU,MAAAA,MAAM,EAAET,uBAAuB,GAAG,QAAH,GAAc;AADvC,KAAD,CAAP;AAGD,GALD;;AAMA,SACE;AAAQ,IAAA,SAAS,EAAEI,aAAnB;AAAkC,IAAA,OAAO,EAAEE,UAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAG,IAAA,SAAS,EAAC,WAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAcH,0BAAd,CAFF,CADF;AAMD,CA3BD;;AA6BA,eAAeV,cAAf","sourcesContent":["import React from 'react'\nimport classNames from 'classnames'\n\nimport useFetch from 'hooks/useFetch'\n\nconst AddToFavorites = ({isFavorited, favoritesCount, articleSlug}) => {\n  const apiUrl = `/articles/${articleSlug}/favorite`\n  const [{response}, doFetch] = useFetch(apiUrl)\n  const isFavoritedWithResponse = response\n    ? response.article.favorited\n    : isFavorited\n  const favoritesCountWithResponse = response\n    ? response.article.favoritesCount\n    : favoritesCount\n  const buttonClasses = classNames({\n    btn: true,\n    'btn-sm': true,\n    'btn-primary': isFavoritedWithResponse,\n    'btn-outline-primary': !isFavoritedWithResponse\n  })\n  const handleLike = event => {\n    event.preventDefault()\n    doFetch({\n      method: isFavoritedWithResponse ? 'delete' : 'post'\n    })\n  }\n  return (\n    <button className={buttonClasses} onClick={handleLike}>\n      <i className=\"ion-heart\"></i>\n      <span>&nbsp; {favoritesCountWithResponse}</span>\n    </button>\n  )\n}\n\nexport default AddToFavorites\n"]},"metadata":{},"sourceType":"module"}